<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CaneMap - Submit Reports to SRA</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
  :root{
    --cane-50:#f7fee7;--cane-100:#ecfcca;--cane-200:#d8f999;--cane-300:#bbf451;--cane-400:#9ae600;--cane-500:#7ccf00;--cane-600:#5ea500;--cane-700:#497d00;--cane-800:#3c6300;--cane-900:#35530e;--cane-950:#192e03;
  }
  .section-card{background:white;border:1px solid var(--cane-200);} 
  .inner-box{background:var(--cane-50);border:1px solid var(--cane-200);} 
  .drop-zone{border:2px dashed var(--cane-200);}
</style>
</head>
<body class="bg-gradient-to-br from-[var(--cane-100)] to-[var(--cane-200)] min-h-screen text-[var(--cane-900)]">

  <header class="bg-white/80 backdrop-blur border-b border-[var(--cane-200)]">
    <div class="max-w-7xl mx-auto px-4 md:px-6 py-4">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <a href="dashboard.html" class="text-[var(--cane-700)] hover:text-[var(--cane-800)]"><i class="fa-solid fa-arrow-left"></i></a>
          <h1 class="text-xl md:text-2xl font-bold bg-gradient-to-r from-[var(--cane-700)] to-[var(--cane-500)] bg-clip-text text-transparent">Submit Reports to SRA</h1>
        </div>
      </div>
      <nav class="mt-3 flex flex-wrap gap-2 text-sm">
        <a href="dashboard.html" class="px-3 py-1.5 rounded bg-gray-100 border">Dashboard</a>
        <a href="Task_Panel.html" class="px-3 py-1.5 rounded bg-gray-100 border">Task Panel</a>
        <a href="Report.html" class="px-3 py-1.5 rounded bg-[var(--cane-700)] text-white">Reports</a>
        <a href="GrowthTracker.html" class="px-3 py-1.5 rounded bg-gray-100 border">Growth Tracker</a>
      </nav>
    </div>
  </header>

  <main class="max-w-7xl mx-auto px-4 md:px-6 py-6 md:py-10">
    <p class="text-sm text-[var(--cane-800)] mb-4">Submit your cost of production and harvest reports for SRA review</p>

    <!-- Status notice -->
    <div class="section-card rounded-xl p-4 md:p-5 mb-6 flex items-start gap-3 bg-gradient-to-r from-[var(--cane-50)] to-white">
      <i class="fa-solid fa-circle-check text-[var(--cane-600)] mt-0.5"></i>
      <div>
        <p class="text-sm md:text-base"><span class="font-semibold">Field Review Status</span><br class="md:hidden"> Your field area has been reviewed and approved. You can now submit reports to SRA.</p>
      </div>
    </div>

    <!-- Forms grid -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
      <!-- Cost of Production -->
      <section class="section-card rounded-xl p-5">
        <h2 class="font-semibold text-[var(--cane-900)] mb-4">Cost of Production Report</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm text-[var(--cane-800)] mb-1">Fertilizer Cost:</label>
            <div class="relative">
              <span class="absolute left-3 top-2.5 text-gray-500">₱</span>
              <input id="fertilizerCost" type="number" min="0" step="0.01" class="w-full pl-8 pr-3 py-2 border-2 border-[var(--cane-200)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--cane-500)]" placeholder="0.00">
            </div>
          </div>
          <div>
            <label class="block text-sm text-[var(--cane-800)] mb-1">Labor Cost:</label>
            <div class="relative">
              <span class="absolute left-3 top-2.5 text-gray-500">₱</span>
              <input id="laborCost" type="number" min="0" step="0.01" class="w-full pl-8 pr-3 py-2 border-2 border-[var(--cane-200)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--cane-500)]" placeholder="0.00">
            </div>
          </div>
          <div>
            <label class="block text-sm text-[var(--cane-800)] mb-1">Equipment Costs :</label>
            <div class="relative">
              <span class="absolute left-3 top-2.5 text-gray-500">₱</span>
              <input id="equipmentCost" type="number" min="0" step="0.01" class="w-full pl-8 pr-3 py-2 border-2 border-[var(--cane-200)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--cane-500)]" placeholder="0.00">
            </div>
          </div>
          <div>
            <label class="block text-sm text-[var(--cane-800)] mb-1">Other Expenses:</label>
            <div class="relative">
              <span class="absolute left-3 top-2.5 text-gray-500">₱</span>
              <input id="otherCost" type="number" min="0" step="0.01" class="w-full pl-8 pr-3 py-2 border-2 border-[var(--cane-200)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--cane-500)]" placeholder="0.00">
            </div>
          </div>
        </div>

        <div class="mt-5">
          <label class="block text-sm font-medium text-[var(--cane-800)] mb-2">Total cost calculation:</label>
          <div class="inner-box rounded-lg p-3 flex items-center justify-between">
            <span class="text-sm text-[var(--cane-800)]">Estimated Total Cost</span>
            <div class="text-lg font-semibold"><span class="text-gray-500 mr-1">₱</span><span id="totalCost">0.00</span></div>
          </div>
        </div>

        <div class="mt-5">
          <label class="block text-sm font-medium text-[var(--cane-800)] mb-2">Upload Summary Report (Optional):</label>
          <label class="drop-zone rounded-lg bg-white flex flex-col items-center justify-center text-center p-8 cursor-pointer hover:bg-[var(--cane-50)]">
            <input id="summaryUpload" type="file" accept=".pdf,.png,.jpg,.jpeg" class="hidden">
            <i class="fa-solid fa-cloud-arrow-up text-2xl text-[var(--cane-600)] mb-2"></i>
            <p class="text-sm text-gray-700">Drop PDF or image files here, or click to browse</p>
            <p class="text-[10px] text-gray-500">Max file size: 10MB</p>
          </label>
        </div>
      </section>

      <!-- Production Report -->
      <section class="section-card rounded-xl p-5">
        <h2 class="font-semibold text-[var(--cane-900)] mb-4">Production Report</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm text-[var(--cane-800)] mb-1">Area Harvested (ha)</label>
            <input id="areaHarvested" type="number" min="0" step="0.01" class="w-full px-3 py-2 border-2 border-[var(--cane-200)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--cane-500)]" placeholder="0.00">
          </div>
          <div>
            <label class="block text-sm text-[var(--cane-800)] mb-1">Total Yield:</label>
            <div class="relative">
              <input id="totalYield" type="number" min="0" step="0.01" class="w-full pr-12 px-3 py-2 border-2 border-[var(--cane-200)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--cane-500)]" placeholder="0.00">
              <span class="absolute right-3 top-2.5 text-gray-500 text-sm">kg</span>
            </div>
          </div>
          <div>
            <label class="block text-sm text-[var(--cane-800)] mb-1">Harvest Date:</label>
            <input id="harvestDate" type="date" class="w-full px-3 py-2 border-2 border-[var(--cane-200)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--cane-500)]">
          </div>
          <div>
            <label class="block text-sm text-[var(--cane-800)] mb-1">Sugarcane Variety:</label>
            <select id="variety" class="w-full px-3 py-2 border-2 border-[var(--cane-200)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--cane-500)]">
              <option>Not selected</option>
              <option>CP 88-1165</option>
              <option>Phil 99-1793</option>
              <option>Phil 8013</option>
            </select>
          </div>
        </div>

        <div class="mt-5">
          <label class="block text-sm font-medium text-[var(--cane-800)] mb-2">Upload Harvest Photo (Optional):</label>
          <label class="drop-zone rounded-lg bg-white flex flex-col items-center justify-center text-center p-8 cursor-pointer hover:bg-[var(--cane-50)]">
            <input id="harvestUpload" type="file" accept="image/*" class="hidden">
            <i class="fa-solid fa-camera text-2xl text-[var(--cane-600)] mb-2"></i>
            <p class="text-sm text-gray-700">Drop image files here, or click to browse</p>
            <p class="text-[10px] text-gray-500">JPG, PNG up to 5MB</p>
          </label>
        </div>
      </section>
    </div>

    <!-- Review & Submit -->
    <section class="section-card rounded-xl p-5 mt-6">
      <h2 class="font-semibold mb-4">Review & Submit</h2>
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- Cost summary -->
        <div class="inner-box rounded-lg">
          <div class="p-3 border-b border-[var(--cane-200)] bg-[var(--cane-100)] font-semibold">Cost Summary</div>
          <div class="p-4 text-sm space-y-2">
            <div class="flex items-center justify-between"><span>Fertilizer:</span><span>₱ <span id="sumFertilizer">0.00</span></span></div>
            <div class="flex items-center justify-between"><span>Labor:</span><span>₱ <span id="sumLabor">0.00</span></span></div>
            <div class="flex items-center justify-between"><span>Equipment:</span><span>₱ <span id="sumEquipment">0.00</span></span></div>
            <div class="flex items-center justify-between"><span>Other:</span><span>₱ <span id="sumOther">0.00</span></span></div>
          </div>
          <div class="px-4 py-3 border-t border-[var(--cane-200)] flex items-center justify-between font-semibold">
            <span>Total Cost:</span><span>₱ <span id="sumTotal">0.00</span></span>
          </div>
        </div>

        <!-- Production summary -->
        <div class>
          <div class="inner-box rounded-lg">
            <div class="p-3 border-b border-[var(--cane-200)] bg-[var(--cane-100)] font-semibold">Production Summary</div>
            <div class="p-4 text-sm space-y-2">
              <div class="flex items-center justify-between"><span>Area Harvested:</span><span><span id="sumArea">0.00</span> ha</span></div>
              <div class="flex items-center justify-between"><span>Total Yield:</span><span><span id="sumYield">0</span> kg</span></div>
              <div class="flex items-center justify-between"><span>Harvest Date:</span><span id="sumDate">Not set</span></div>
              <div class="flex items-center justify-between"><span>Variety:</span><span id="sumVariety">Not selected</span></div>
            </div>
          </div>

          <div class="mt-4 flex items-center gap-2 text-sm">
            <input id="confirm" type="checkbox" class="w-4 h-4 border-gray-300">
            <label for="confirm">I confirm that all information provided is accurate and complete</label>
          </div>

          <div class="mt-4 flex flex-wrap gap-3">
            <button id="submitBtn" disabled class="px-4 py-2 rounded-lg bg-gray-200 text-gray-700 cursor-not-allowed">Submit report to SRA</button>
            <button class="px-4 py-2 rounded-lg bg-white border border-[var(--cane-300)] text-[var(--cane-800)] hover:bg-[var(--cane-50)]">Save as Draft</button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    function toMoney(n){return (Number(n)||0).toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2});}
    function updateCosts(){
      const f=+document.getElementById('fertilizerCost').value||0;
      const l=+document.getElementById('laborCost').value||0;
      const e=+document.getElementById('equipmentCost').value||0;
      const o=+document.getElementById('otherCost').value||0;
      const t=f+l+e+o;
      document.getElementById('totalCost').textContent=toMoney(t);
      document.getElementById('sumFertilizer').textContent=toMoney(f);
      document.getElementById('sumLabor').textContent=toMoney(l);
      document.getElementById('sumEquipment').textContent=toMoney(e);
      document.getElementById('sumOther').textContent=toMoney(o);
      document.getElementById('sumTotal').textContent=toMoney(t);
    }
    ['fertilizerCost','laborCost','equipmentCost','otherCost'].forEach(id=>{
      document.addEventListener('input', (ev)=>{ if(ev.target && ev.target.id===id){ updateCosts(); }});
    });

    function updateProduction(){
      const area=document.getElementById('areaHarvested').value;
      const yieldKg=document.getElementById('totalYield').value;
      const date=document.getElementById('harvestDate').value;
      const variety=document.getElementById('variety').value;
      document.getElementById('sumArea').textContent=(Number(area)||0).toFixed(2);
      document.getElementById('sumYield').textContent=(Number(yieldKg)||0).toLocaleString();
      document.getElementById('sumDate').textContent=date?new Date(date).toLocaleDateString():"Not set";
      document.getElementById('sumVariety').textContent=variety||'Not selected';
    }
    ['areaHarvested','totalYield','harvestDate','variety'].forEach(id=>{
      document.addEventListener('input', (ev)=>{ if(ev.target && ev.target.id===id){ updateProduction(); }});
      document.addEventListener('change', (ev)=>{ if(ev.target && ev.target.id===id){ updateProduction(); }});
    });

    const confirmBox=document.getElementById('confirm');
    const submitBtn=document.getElementById('submitBtn');
    confirmBox.addEventListener('change',()=>{
      submitBtn.disabled=!confirmBox.checked;
      submitBtn.className=confirmBox.checked?
        'px-4 py-2 rounded-lg text-white bg-[var(--cane-700)] hover:bg-[var(--cane-800)] shadow':
        'px-4 py-2 rounded-lg bg-gray-200 text-gray-700 cursor-not-allowed';
    });
  </script>

</body>
</html>


